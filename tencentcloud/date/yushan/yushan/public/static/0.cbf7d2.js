webpackJsonp([0,4],{91:function(e,t){"use strict";function a(e,t){var a=new Date(e),o=a.getFullYear(),u=a.getMonth()+1,l=a.getDate(),r=a.getHours(),d=a.getMinutes(),i=a.getSeconds();switch(t){case 0:return n(u)+"-"+n(l);case 1:return n(r)+"-"+n(d);case 2:return o+"-"+n(u)+"-"+n(l);case 3:return o+"-"+n(u)+"-"+n(l)+"  "+n(r)+":"+n(d);default:return o+"-"+n(u)+"-"+n(l)+"  "+n(r)+":"+n(d)+":"+n(i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=function(e){return e>=10?e:"0"+e}},189:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u,l=a(18),r=n(l),d=a(2),i=n(d),s=a(5),f=n(s),c=a(4),p=n(c),h=a(3),v=n(h),m=a(1),g=(n(m),a(121)),b=n(g),_=a(43),y=n(_),N=a(384),C=n(N),T=function(){return{id:"",title:"",content:""}},S=function(e){return e.startsWith("/msg/add")},D=(u=o=function(e){function t(e,a){(0,i.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,a));return n.state=T(),n.handleChange=y.default.bind(n),n}return(0,v.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.updateState()}},{key:"componentWillReceiveProps",value:function(e){this.updateState(e)}},{key:"updateState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,a=t.location,n=t.params.msgId,o=t.userData.username,u=t.msg.msgs;if(S(a.pathname))return this.setState(T());if(u.length){var l=u.filter(function(e){var t=e.id;return t===n})[0];return l&&l.author===o?this.setState(l):this.handleIllegal()}b.default.fetch({msgId:n}).then(function(t){var a=t.id,n=t.title,u=t.content,l=t.author;return t&&l===o?void e.setState({id:a,title:n,content:u}):e.handleIllegal()})}},{key:"handleIllegal",value:function(){setTimeout(function(){return alert("非法访问")}),location.replace("/msg")}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.props.location.pathname,n=S(a)?"addMsg":"modMsg";this.updateState=function(){},this.props[n](this.state).then(function(e){var a=e.id;t.context.router.replace("/msg/detail/"+a)})}},{key:"render",value:function(){return C.default.call(this)}}]),t}(m.Component),o.contextTypes={router:m.PropTypes.object.isRequired},u);t.default=D},193:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_HANDLERS=void 0;var o,u=a(8),l=n(u),r=a(6),d=n(r),i=a(62),s=n(i),f="ADD_TODO",c="DEL_TODO",p="TOGGLE_TODO",h=function(e){return{type:f,payload:{id:setTimeout(function(){}),content:e,completed:!1,createdAt:Date.now()}}},v=function(e){return{type:p,payload:e}},m=function(e){return{type:c,payload:e}};t.default={addTodo:h,toggleTodo:v,delTodo:m};t.ACTION_HANDLERS=(o={},(0,l.default)(o,f,function(e,t){var a=t.payload;return[].concat((0,s.default)(e),[a])}),(0,l.default)(o,p,function(e,t){var a=t.payload;return e.map(function(e){return e.id===a?(0,d.default)({},e,{completed:!e.completed}):e})}),(0,l.default)(o,c,function(e,t){var a=t.payload;return e.filter(function(e){return e.id!==a})}),o)},382:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u,l,r,d=a(14),i=n(d),s=a(18),f=n(s),c=a(2),p=n(c),h=a(5),v=n(h),m=a(4),g=n(m),b=a(3),_=n(b),y=a(1),N=(n(y),a(43)),C=n(N),T=a(38),S=(0,i.default)("h1",{},void 0,"玉山便民网 ",(0,i.default)("br",{}),"    登录"),D=(0,i.default)("label",{for:"telephone"},void 0,"手机号"),M=(0,i.default)("label",{for:"psword"},void 0,"密码"),w=(0,i.default)("button",{type:"submit",className:"btn btn-default"},void 0,"登录"),O=(o=(0,T.connect)(function(e){var t=e.userData;return{userData:t}},a(50).default),o((r=l=function(e){function t(e){(0,p.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.handleSubmit=function(){console.log("11111",a.state);var e=a.state.telephone;if(!e)return alert("手机号不得为空");var t=a.state.password;return t?void a.props.login({telephone:e,password:t}).then(function(e){200===e.code?(alert("登陆成功"),a.context.router.replace("/")):alert(e.msg)}):alert("密码不得为空")},a.state={telephone:"",password:""},a.handleChange=C.default.bind(a),a}return(0,_.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e=this;return(0,i.default)("div",{className:"jumbotron"},void 0,(0,i.default)("div",{className:"title",style:{textAlign:"center"}},void 0,S),(0,i.default)("form",{onSubmit:function(t){t.preventDefault(),e.handleSubmit()}},void 0,(0,i.default)("div",{className:"form-group"},void 0,D,(0,i.default)("input",{onChange:this.handleChange,name:"telephone",className:"form-control",id:"telephone",placeholder:"手机号"})),(0,i.default)("div",{className:"form-group"},void 0,M,(0,i.default)("input",{onChange:this.handleChange,name:"password",type:"password",className:"form-control",id:"psword",placeholder:"密码"})),w))}}]),t}(y.Component),l.contextTypes={router:y.PropTypes.object.isRequired},u=r))||u);t.default=O},384:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(14),u=n(o);t.default=function(){var e=this;return(0,u.default)("form",{onSubmit:function(t){return e.handleSubmit(t)}},void 0,(0,u.default)("div",{className:"form-group"},void 0,r,(0,u.default)("input",{type:"text",className:"form-control",name:"title",placeholder:"请输入标题...",onChange:this.handleChange,value:this.state.title})),(0,u.default)("div",{className:"form-group"},void 0,d,(0,u.default)("textarea",{name:"content",className:"form-control",rows:"3",placeholder:"请输入内容...",onChange:this.handleChange,value:this.state.content},void 0)),(0,u.default)("div",{role:"group",className:"btn-group btn-group-justified"},void 0,(0,u.default)("div",{className:"btn-group",role:"group"},void 0,(0,u.default)("button",{type:"button",className:"btn btn-warning",onClick:function(){return e.context.router.goBack()}},void 0,i," 取消")),s))};var l=a(1),r=(n(l),(0,u.default)("label",{htmlFor:"title"},void 0,"标题")),d=(0,u.default)("label",{htmlFor:"content"},void 0,"内容"),i=(0,u.default)("span",{className:"glyphicon glyphicon-arrow-left"}),s=(0,u.default)("div",{className:"btn-group",role:"group"},void 0,(0,u.default)("button",{type:"submit",className:"btn btn-success"},void 0,"提交 ",(0,u.default)("span",{className:"glyphicon glyphicon-ok"})))},393:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u,l,r,d=a(14),i=n(d),s=a(18),f=n(s),c=a(2),p=n(c),h=a(5),v=n(h),m=a(4),g=n(m),b=a(3),_=n(b),y=a(1),N=(n(y),a(43)),C=n(N),T=a(38),S=(0,i.default)("h1",{},void 0,"玉山便民网 ",(0,i.default)("br",{}),"    注册"),D=(0,i.default)("label",{for:"telephone"},void 0,"手机号"),M=(0,i.default)("label",{for:"telephone"},void 0,"昵称"),w=(0,i.default)("label",{for:"psword"},void 0,"密码"),O=(0,i.default)("button",{type:"submit",className:"btn btn-default"},void 0,"注册"),k=(o=(0,T.connect)(function(e){var t=e.userData;return{userData:t}},a(50).default),o((r=l=function(e){function t(e){(0,p.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.handleSubmit=function(){console.log("11111",a.state);var e=a.state.telephone;if(!e)return alert("手机号不得为空");var t=a.state.password;if(!t)return alert("密码不得为空");var n=a.state.username;return n?void a.props.register({telephone:e,password:t,username:n}).then(function(e){if(200===e.code)alert("注册成功"),console.log(a.context,"4333333"),a.context.router.replace("/login");else if(e.msg)for(var t in e.msg)alert(e.msg[t])}):alert("姓名不得为空")},a.state={telephone:"",password:"",username:""},a.handleChange=C.default.bind(a),a}return(0,_.default)(t,e),(0,v.default)(t,[{key:"render",value:function(){var e=this;return(0,i.default)("div",{className:"jumbotron"},void 0,(0,i.default)("div",{className:"title",style:{textAlign:"center"}},void 0,S),(0,i.default)("form",{onSubmit:function(t){t.preventDefault(),e.handleSubmit()}},void 0,(0,i.default)("div",{className:"form-group"},void 0,D,(0,i.default)("input",{onChange:this.handleChange,name:"telephone",className:"form-control",id:"telephone",placeholder:"手机号"})),(0,i.default)("div",{className:"form-group"},void 0,M,(0,i.default)("input",{onChange:this.handleChange,name:"username",className:"form-control",id:"telephone",placeholder:"姓名"})),(0,i.default)("div",{className:"form-group"},void 0,w,(0,i.default)("input",{onChange:this.handleChange,name:"password",type:"password",className:"form-control",id:"psword",placeholder:"密码"})),O))}}]),t}(y.Component),l.contextTypes={router:y.PropTypes.object.isRequired},u=r))||u);t.default=k},394:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(14),u=n(o),l=a(18),r=n(l),d=a(2),i=n(d),s=a(5),f=n(s),c=a(4),p=n(c),h=a(3),v=n(h),m=a(1),g=(n(m),a(43)),b=n(g),_=function(e){function t(e){(0,i.default)(this,t);var a=(0,p.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.state={inputVal:""},a.handleChange=b.default.bind(a),a}return(0,v.default)(t,e),(0,f.default)(t,[{key:"handleSubmit",value:function(){var e=this.state.inputVal.trim();e&&(this.props.addTodo(e),this.setState({inputVal:""}))}},{key:"render",value:function(){var e=this;return(0,u.default)("form",{onSubmit:function(t){t.preventDefault(),e.handleSubmit()}},void 0,(0,u.default)("div",{className:"form-group"},void 0,(0,u.default)("input",{type:"text",className:"form-control",name:"inputVal",placeholder:"请输入待办事项，敲回车确认添加",required:!0,value:this.state.inputVal,onChange:this.handleChange})))}}]),t}(m.Component);t.default=_},395:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(14),u=n(o),l=a(18),r=n(l),d=a(2),i=n(d),s=a(5),f=n(s),c=a(4),p=n(c),h=a(3),v=n(h),m=a(1),g=(n(m),a(394)),b=n(g),_=a(91),y=n(_),N=function(e){function t(){return(0,i.default)(this,t),(0,p.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,f.default)(t,[{key:"delTodo",value:function(e){confirm("确认删除？")&&this.props.delTodo(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.todos,n=t.addTodo,o=t.toggleTodo;return(0,u.default)("div",{},void 0,(0,u.default)("ul",{},void 0,a.map(function(t){return(0,u.default)("li",{onClick:function(){return o(t.id)}},t.id,(0,u.default)("span",{style:{textDecoration:t.completed?"line-through":"none"}},void 0,t.content),(0,u.default)("a",{href:"javascript:;",style:{textDecoration:"none"},className:"pull-right",onClick:function(){return e.delTodo(t.id)}},void 0,"⊗"),(0,u.default)("span",{className:"label label-default pull-right"},void 0,(0,y.default)(t.createdAt)))})),(0,u.default)(b.default,{addTodo:n}))}}]),t}(m.Component);t.default=N},398:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(61),u=n(o),l=a(193),r=a(51),d=n(r);t.default=(0,u.default)(d.default.todos,l.ACTION_HANDLERS)},416:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(14),u=n(o),l=a(1),r=(n(l),(0,u.default)("div",{role:"alert",className:"alert alert-warning alert-dismissible"},void 0,(0,u.default)("button",{type:"button",className:"close","data-dismiss":"alert"},void 0,(0,u.default)("span",{"aria-hidden":"true"},void 0,"×")),(0,u.default)("strong",{},void 0,"该 Todo 示例无需 后端 RESTful API 支持"))),d=function(e){var t=e.children;return(0,u.default)("div",{className:"center-block"},void 0,r,t)};t.default=d}});